"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function s(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,a){return e&&s(t.prototype,e),a&&s(t,a),t}}();!function(){var t=function(){function i(t){var e=this;_classCallCheck(this,i);var a={logo:"OωO表情",container:document.getElementsByClassName("OwO")[0],target:document.getElementsByClassName("text-input")[0],position:"down",maxHeight:"210px",api:"https://api.anotherhome.net/OwO/OwO.json"};for(var s in a){a.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=a[s])}this.container=t.container,this.target=t.target,"up"===t.position&&this.container.classList.add("OwO-up");var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?(e.odata=JSON.parse(n.responseText),e.init(t)):console.log("OwO data request was unsuccessful: "+n.status))},n.open("get",t.api,!0),n.send(null)}return _createClass(i,[{key:"init",value:function t(e){var n=this;this.area=e.target,this.packages=Object.keys(this.odata);for(var a='\n            <div class="OwO-logo"><span>'+e.logo+'</span></div>\n            <div class="OwO-body" style="width: '+e.width+'">',s=0;s<this.packages.length;s++){if(s==0){a+='\n                <ul class="OwO-items OwO-items-'+this.odata[this.packages[s]].type+'" style="max-height: '+(parseInt(e.maxHeight)-53+"px")+';">';for(var i=this.odata[this.packages[s]].container,o=0;o<i.length;o++){a+='\n                    <li class="OwO-item" title="'+i[o].text+"\" data-OwO='"+i[o].icon+"'>"+i[o].icon+"</li>"}a+="\n                </ul>"}else if(s==1){a+='\n                <ul class="OwO-items OwO-items-'+this.odata[this.packages[s]].type+'" style="max-height: '+(parseInt(e.maxHeight)-53+"px")+';">';for(var i=this.odata[this.packages[s]].container,o=0;o<i.length;o++){a+='\n                    <li class="OwO-item" title="'+i[o].text+'" data-OwO="$('+i[o].text+')">'+i[o].icon+"</li>"}a+="\n                </ul>"}else{a+='\n                <ul class="OwO-items OwO-items-'+this.odata[this.packages[s]].type+'" style="max-height: '+(parseInt(e.maxHeight)-53+"px")+';">';for(var i=this.odata[this.packages[s]].container,o=0;o<i.length;o++){a+='\n                    <li class="OwO-item" title="'+i[o].text+'" data-OwO="$['+i[o].text+']">'+i[o].icon+"</li>"}a+="\n                </ul>"}}a+='\n                <div class="OwO-bar">\n                    <ul class="OwO-packages">';for(var l=0;l<this.packages.length;l++){a+="\n                        <li><span>"+this.packages[l]+"</span></li>"}a+="\n                    </ul>\n                </div>\n            </div>\n            ";if(typeof this.container!="undefined"&&typeof this.container.innerHTML!="undefined"){this.container.innerHTML=a}this.logo=this.container.getElementsByClassName("OwO-logo")[0],this.logo.addEventListener("click",function(){n.toggle()}),this.container.getElementsByClassName("OwO-body")[0].addEventListener("click",function(t){var e=null;if(t.target.classList.contains("OwO-item")?e=t.target:t.target.parentNode.classList.contains("OwO-item")&&(e=t.target.parentNode),e){var a=n.area.selectionEnd,s=n.area.value;n.area.value=s.slice(0,a)+e.getAttribute("data-OwO")+s.slice(a),n.area.focus(),n.toggle()}}),this.packagesEle=this.container.getElementsByClassName("OwO-packages")[0];for(var c=function t(e){!function(t){n.packagesEle.children[e].addEventListener("click",function(){n.tab(t)})}(e)},r=0;r<this.packagesEle.children.length;r++){c(r)}this.tab(0)}},{key:"toggle",value:function t(){this.container.classList.contains("OwO-open")?this.container.classList.remove("OwO-open"):this.container.classList.add("OwO-open")}},{key:"tab",value:function t(e){var a=this.container.getElementsByClassName("OwO-items-show")[0];a&&a.classList.remove("OwO-items-show"),this.container.getElementsByClassName("OwO-items")[e].classList.add("OwO-items-show");var s=this.container.getElementsByClassName("OwO-package-active")[0];s&&s.classList.remove("OwO-package-active"),this.packagesEle.getElementsByTagName("li")[e].classList.add("OwO-package-active")}}]),i}();"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t:window.OwO=t}();